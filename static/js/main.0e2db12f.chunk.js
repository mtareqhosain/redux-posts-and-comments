(this["webpackJsonpredux-posts-and-comments"]=this["webpackJsonpredux-posts-and-comments"]||[]).push([[0],{18:function(t,e,n){t.exports=n(32)},23:function(t,e,n){},31:function(t,e,n){},32:function(t,e,n){"use strict";n.r(e);var o=n(0),c=n.n(o),s=n(5),a=n.n(s),r=(n(23),n(11)),i=n(12),u=n(17),l=n(15),m=n(6),p=n(2),d=n.n(p),f=n(4),h=(n(31),function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){var t;return Object(r.a)(this,n),(t=e.call(this)).findPost=function(e){var n=t.props.comments.filter((function(t){return t.postId===e}));t.setState({showComments:!t.state.showComments,comments:n})},t.editPost=function(e){console.log("update: ",e),t.setState({toggle:!t.state.toggle,inputText:e.title,postId:e.id})},t.deletePost=function(e){t.props.onDeletePost(e),!0===t.state.showComments&&0!==t.state.comments.length&&t.setState({comments:[],showComments:!t.state.showComments})},t.updatePost=function(e){t.props.onUpdatePost(e,t.state.inputText)},t.state={showComments:!1,comments:[],toggle:!1,inputText:"",postId:null},t}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.props.onFetchPost(),this.props.onFetchComment()}},{key:"render",value:function(){var t=this;return c.a.createElement("div",{className:"container"},c.a.createElement("div",{style:{float:"left",width:"65%"}},c.a.createElement("h1",null,"POSTS"),this.props.posts.length>0&&this.props.posts.filter((function(t){return t.id<=10})).map((function(e){return c.a.createElement("div",{className:"postCard"},c.a.createElement("h2",null,e.title),c.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},c.a.createElement("button",{className:"btnComment comment",onClick:function(){return t.findPost(e.id)}},"Comments"),c.a.createElement("button",{className:"btnEdit edit",onClick:function(){return t.editPost(e)}},"Edit"),c.a.createElement("button",{className:"btnDelete delete",onClick:function(){return t.deletePost(e.id)}},"Delete")),!0===t.state.toggle&&t.state.postId===e.id&&c.a.createElement("div",{className:"update-wrapper cf"},c.a.createElement("input",{style:{boxShadow:"none"},type:"text",value:t.state.inputText,onChange:function(e){return t.setState({inputText:e.target.value})}}),c.a.createElement("button",{onClick:function(){return t.updatePost(e.id)}},"Update")))}))),c.a.createElement("div",{style:{float:"right",width:"35%"}},!0===this.state.showComments&&c.a.createElement("div",null,c.a.createElement("h1",null,"COMMENTS"),this.state.comments.map((function(t){return c.a.createElement("ul",{className:"list"},c.a.createElement("li",null,t.body))})))))}}]),n}(o.Component)),E=Object(m.b)((function(t,e){return console.log("state: ",t),{posts:t.postReducer.posts,comments:t.commentReducer.comments}}),(function(t){return{onFetchPost:function(){return t(function(){var t=Object(f.a)(d.a.mark((function t(e){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:fetch("https://jsonplaceholder.typicode.com/posts").then((function(t){return t.json()})).then((function(t){console.log("posts",t),e({type:"FETCH_POSTS",posts:t})})).catch((function(t){console.log(t)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},onFetchComment:function(){return t(function(){var t=Object(f.a)(d.a.mark((function t(e){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:fetch("https://jsonplaceholder.typicode.com/comments").then((function(t){return t.json()})).then((function(t){console.log("comments: ",t),e({type:"FETCH_COMMENTS",comments:t})})).catch((function(t){console.log(t)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},onDeletePost:function(e){return t(function(t){return function(){var e=Object(f.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n({type:"DELETE_POST",id:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(e))},onUpdatePost:function(e,n){return t(function(t,e){return function(){var n=Object(f.a)(d.a.mark((function n(o){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o({type:"UPDATE_POST",update:{id:t,title:e}}),console.log("updates: ",t,e);case 2:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()}(e,n))}}}))(h);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var v=n(14),b=n(3),O=n(16),g=n(1),w={posts:[]},j=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"FETCH_POSTS":return Object(g.a)(Object(g.a)({},t),{},{posts:e.posts});case"DELETE_POST":return Object(g.a)(Object(g.a)({},t),{},{posts:t.posts.filter((function(t){return t.id!==e.id}))});case"UPDATE_POST":var n=Object(O.a)(t.posts),o=n.findIndex((function(t){return t.id===e.update.id}));return-1!==o&&(n[o]=Object(g.a)(Object(g.a)({},n[o]),e.update)),Object(g.a)(Object(g.a)({},t),{},{posts:n});default:return t}},C={comments:[]},y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"FETCH_COMMENTS":return Object(g.a)(Object(g.a)({},t),{},{comments:e.comments});default:return t}},P=Object(b.c)({postReducer:j,commentReducer:y}),T=Object(b.d)(P,Object(b.a)(v.a));a.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(m.a,{store:T},c.a.createElement(E,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.0e2db12f.chunk.js.map